# Day 06 - DEBUG Day



## Ansible (broken)

- name Install nginx
hosts all
become tes
tasks:
  - name: install
  yum:
    name nginx
    state present


## Terraform (broken)

resource "aws_instance" "BrokenEC2" {
    ami = "ami123"
    instace_type = t2micro
  tags {
    Name = "BrokenEC2"
  }  
}

# Kubernetes (broken)
apiVersion v1
kind pod
metadata:
  name sumit-pathnex
spec
  containers:
    - name app
      image nginx




# Debugging Pipelines
## Jenkins pipeline - Debugging


pipeline {
    agent any
    stages {
        stage('Checkout') {
            steps {
                git branch: 'main', url: 'https://github.com/sumit-pathnex/sample-java-app.git'    
            }
        }
        stage('Build') {
            steps {
                sh'''
                mvn clean compile || {echo "Compile failed"; exit1; {
                '''
                }
            }
            stage('Test') {
              steps {
                sh '''
                mvn test || {echo "Tests failed"; exit 1;}
                '''
              }
           }
          
        }
    }
}

## ðŸ”¹ GitLab CI â€” Debugging
You will learn how to **handle job failures and exit codes**.

stages:
  - build
  - test

build:
  stage: build
  image: maven:3.8.1-jdk-17
  script:
    - git clone https://github.com/sumit-pathnex/sample-java-app.git
    - cd sample-java-app
    - mvn clean compile || { echo "Compile failed"; exit 1; }

test:
  stage: test
  image: maven:3.8.1-jdk-17
  script:
    - cd sample-java-app
    - mvn test || { echo "Tests failed"; exit 1; }
